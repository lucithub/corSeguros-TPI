<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página Principal - Seguros de Autos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <header align="center">
        <h1>corSeguros</h1>
        <p>La mejor protección para tu vehículos</p>
    </header>
    
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container" id="menu">
            <a class="navbar-brand">Seguros de Autos</a>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a id="hrefIL" class="nav-link" href="/pages/index/indexLogueado.html">Inicio</a>
                    </li>
                        <a id="hrefEP" class="nav-link" href="/pages/user/edit-profile.html">Editar Perfil</a>
                    </li>
                    <li class="nav-item">
                        <a id="hrefC" class="nav-link" href="/pages/cotizaciones/quotations.html">Cotizaciones</a>
                    </li>
                    <li>
                        <a id="hrefNL" class="nav-link" href="/pages/index/nosotrosLogueado.html">Nosotros</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    
    <div align="right" id="divCerrarSesion">
        <button type="button" class="btn btn-secondary" id="btn-secondary" onclick="cerrarSesion()">Cerrar sesión</button>
    </div>

    <div class="container mt-5">
        <div id="mensajeBienvenida" class="alert alert-info text-center" style="background-color: rgba(1, 145, 121, 0.418) !important";>
            <h2>Bienvenido, <span id="nombreCompleto" class="text-primary"></span>!</h2>
            <p>Nos alegra tenerte con nosotros.</p>
        </div>
    </div>

    <h3 align="center">Marcas con las que trabajamos</h3>    
    <div id="carouselExampleIndicators" class="carousel slide" align="center">
        <div class="carousel-indicators" style="color: black;">
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1" style="color: black;"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2" style="color: black;"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3" style="color: black;"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="3" aria-label="Slide 4" style="color: black;"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="4" aria-label="Slide 5" style="color: black;"></button>
          
        </div>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="/img/toyota-removebg-preview.png" class="d-block" alt="...">
          </div>
          <div class="carousel-item">
            <img src="/img/file-removebg-preview.png" class="d-block" alt="...">
          </div>
          <div class="carousel-item">
            <img src="/img/ford-removebg-preview.png" class="d-block" alt="...">
          </div>
            <div class="carousel-item">
                <img src="/img/renault-removebg-preview.png" class="d-block" alt="...">
            </div>
            <div class="carousel-item">
                <img src="/img/volkswagen-removebg-preview.png" class="d-block" alt="...">
        </div>
        <br>
        <br>
        <br>
        <br>
        <!--
        -->
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev" style="color: black;">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>

    <br>
    <br>
    <div class="container text-center mt-4">
        <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#gruaModal">
            Solicitar Grúa
        </button>
    </div>

    <div class="modal fade" id="gruaModal" tabindex="-1" aria-labelledby="gruaModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="gruaModalLabel">Solicitud de Grúa</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="solicitudGruaForm">
                        <div class="mb-3">
                            <label for="nombre" class="form-label">Nombre</label>
                            <input type="text" class="form-control" id="nombre" placeholder="Ingresa tu nombre" required>
                        </div>
                        <div class="mb-3">
                            <label for="apellido" class="form-label">Apellido</label>
                            <input type="text" class="form-control" id="apellido" placeholder="Ingresa tu apellido" required>
                        </div>
                        <div class="mb-3">
                            <label for="telefono" class="form-label">Teléfono</label>
                            <input type="tel" class="form-control" id="telefono" placeholder="Ingresa tu teléfono" required>
                        </div>
                        <div class="mb-3">
                            <label for="ubicacion" class="form-label">Ubicación</label>
                            <input type="text" class="form-control" id="ubicacion" placeholder="Ingresa tu ubicación" required>
                        </div>
                        <div class="mb-3">
                            <label for="problema" class="form-label">Descripción del Problema</label>
                            <textarea class="form-control" id="problema" rows="3" placeholder="Describe el problema" required></textarea>
                        </div>
                        <button type="button" class="btn btn-primary" onclick="solicitudGrua()">Enviar Solicitud</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <a id="hrefPE" href="/pages/user/pageExperience.html" class="btn-feedback" title="Danos tu opinión">
        <img src="https://img.icons8.com/ios-glyphs/30/000000/feedback.png" alt="Feedback" />
    </a>

    <footer class="bg-dark text-light text-center py-3" id="footerPagina">
        <p>&copy; 2024 corSeguros. Todos los derechos reservados.</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const usuarioId = urlParams.get('id');
        const usuarioNombre = urlParams.get('nombre');
        const usuarioApellido = urlParams.get('apellido');
        const nombreCompleto = document.getElementById('nombreCompleto');
        nombreCompleto.textContent = `${usuarioNombre} ${usuarioApellido}`;
        const enlaceIL = document.getElementById('hrefIL');
        enlaceIL.href = `/pages/index/indexLogueado.html?id=${usuarioId}&nombre=${usuarioNombre}&apellido=${usuarioApellido}`;
        const enlaceNL = document.getElementById('hrefNL');
        enlaceNL.href = `/pages/index/nosotrosLogueado.html?id=${usuarioId}&nombre=${usuarioNombre}&apellido=${usuarioApellido}`;
        const enlaceEP = document.getElementById('hrefEP');
        enlaceEP.href = `/pages/user/edit-profile.html?id=${usuarioId}&nombre=${usuarioNombre}&apellido=${usuarioApellido}`;
        const enlaceC = document.getElementById('hrefC');
        enlaceC.href = `/pages/cotizaciones/quotations.html?id=${usuarioId}&nombre=${usuarioNombre}&apellido=${usuarioApellido}`;
        const enlacePE = document.getElementById('hrefPE');
        enlacePE.href = `/pages/user/pageExperience.html?id=${usuarioId}&nombre=${usuarioNombre}&apellido=${usuarioApellido}`;
        fetch('https://localhost:7018/api/Seguros/cliente/'+usuarioId)
        .then(response => response.json())
        .then(data => {
            document.getElementById('nombre').value = data.nombre;
            document.getElementById('apellido').value = data.apellido;
            document.getElementById('telefono').value = data.telefono
        });
    </script>
    <script src="/js/cotizacion.js"></script>
    <script src="/js/user.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>