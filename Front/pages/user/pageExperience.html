<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página Principal - Seguros de Autos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/styles.css">
    <style>
        #feedbackSection {
            background-color: #f8f9fa;
            padding: 20px;
            margin-top: 40px;
            border-radius: 8px;
            text-align: center;
        }
    </style>
</head>
<body>

    <header align="center">
        <h1>corSeguros</h1>
        <p>La mejor protección para tu vehículo</p>
    </header>

    <div class="container" id="feedbackSection">
        <h4>¿Te gustó la experiencia en nuestra página?</h4>
        <div class="d-flex justify-content-center my-3">
            <button class="btn btn-success mx-2" onclick="submitFeedback('Sí')">Sí</button>
            <button class="btn btn-warning mx-2" onclick="submitFeedback('Regular')">Regular</button>
            <button class="btn btn-danger mx-2" onclick="submitFeedback('No')">No</button>
        </div>
        
        <div class="mt-3">
            <label for="feedbackComments" class="form-label">Comentarios adicionales (opcional):</label>
            <textarea id="feedbackComments" class="form-control" rows="3" placeholder="Cuéntanos más sobre tu experiencia..."></textarea>
        </div>
        
        <button class="btn btn-primary mt-3" onclick="submitComments()">Enviar comentarios</button>
        
        <div id="feedbackMessage" class="mt-4" style="display: none;">
            <p class="text-success">¡Gracias por tu feedback! Nos ayuda a mejorar.</p>
        </div>
    </div>

    <footer class="bg-dark text-light text-center py-3" id="footerPagina">
        <p>&copy; 2024 corSeguros. Todos los derechos reservados.</p>
    </footer>

    <script>
        function submitFeedback(response) {
            const feedbackMessage = document.getElementById('feedbackMessage');
            feedbackMessage.style.display = 'block';
            feedbackMessage.innerHTML = `<p class="text-success">¡Gracias por tu respuesta (${response})! Nos ayuda a mejorar.</p>`;
        }
        function submitComments() {
            const urlParams = new URLSearchParams(window.location.search);
            const usuarioId = urlParams.get('id');
            const usuarioNombre = urlParams.get('nombre');
            const usuarioApellido = urlParams.get('apellido');
            const comments = document.getElementById('feedbackComments').value;
            if (comments) {
                const feedbackMessage = document.getElementById('feedbackMessage');
                feedbackMessage.style.display = 'block';
                feedbackMessage.innerHTML = `<p class="text-success">¡Gracias por tus comentarios! Nos ayuda a mejorar.</p>`;
                alert("¡Gracias por tus comentarios! Nos ayuda a mejorar.");
                window.location.href = '/pages/index/indexLogueado.html?id=' + usuarioId + '&nombre=' + usuarioNombre + '&apellido=' + usuarioApellido;
            } else {
                alert("Por favor, escribe algún comentario antes de enviar.");
            }
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const usuarioId = urlParams.get('id');
        const usuarioNombre = urlParams.get('nombre');
        const usuarioApellido = urlParams.get('apellido');
        const nombreCompleto = document.getElementById('nombreCompleto');
        nombreCompleto.textContent = `${usuarioNombre} ${usuarioApellido}`;
        const enlaceIL = document.getElementById('hrefIL');
        enlaceIL.href = `/pages/index/indexLogueado.html?id=${usuarioId}&nombre=${usuarioNombre}&apellido=${usuarioApellido}`;
        const enlaceNL = document.getElementById('hrefNL');
        enlaceNL.href = `/pages/index/nosotrosLogueado.html?id=${usuarioId}&nombre=${usuarioNombre}&apellido=${usuarioApellido}`;
        const enlaceEP = document.getElementById('hrefEP');
        enlaceEP.href = `/pages/user/edit-profile.html?id=${usuarioId}&nombre=${usuarioNombre}&apellido=${usuarioApellido}`;
        const enlaceC = document.getElementById('hrefC');
        enlaceC.href = `/pages/cotizaciones/quotations.html?id=${usuarioId}&nombre=${usuarioNombre}&apellido=${usuarioApellido}`;
    </script>
    <script src="/js/cotizacion.js"></script>
    <script src="/js/user.js"></script>
</body>
</html>
